{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getEnumValuesMap = exports.convertToType = exports.wrapWithTypeOptions = exports.convertTypeIfScalar = void 0;\nconst graphql_1 = require(\"graphql\");\nconst errors_1 = require(\"../errors\");\nconst scalars_1 = require(\"../scalars\");\nconst build_context_1 = require(\"../schema/build-context\");\nfunction wrapTypeInNestedList(targetType, depth, nullable) {\n  const targetTypeNonNull = nullable ? targetType : new graphql_1.GraphQLNonNull(targetType);\n  if (depth === 0) {\n    return targetType;\n  }\n  return wrapTypeInNestedList(new graphql_1.GraphQLList(targetTypeNonNull), depth - 1, nullable);\n}\nfunction convertTypeIfScalar(type) {\n  if (type instanceof graphql_1.GraphQLScalarType) {\n    return type;\n  }\n  const scalarMap = build_context_1.BuildContext.scalarsMaps.find(it => it.type === type);\n  if (scalarMap) {\n    return scalarMap.scalar;\n  }\n  switch (type) {\n    case String:\n      return graphql_1.GraphQLString;\n    case Boolean:\n      return graphql_1.GraphQLBoolean;\n    case Number:\n      return graphql_1.GraphQLFloat;\n    case Date:\n      return scalars_1.GraphQLISODateTime;\n    default:\n      return undefined;\n  }\n}\nexports.convertTypeIfScalar = convertTypeIfScalar;\nfunction wrapWithTypeOptions(target, propertyName, type, typeOptions, nullableByDefault) {\n  if (!typeOptions.array && (typeOptions.nullable === \"items\" || typeOptions.nullable === \"itemsAndList\")) {\n    throw new errors_1.WrongNullableListOptionError(target.name, propertyName, typeOptions.nullable);\n  }\n  let gqlType = type;\n  if (typeOptions.array) {\n    const isNullableArray = typeOptions.nullable === \"items\" || typeOptions.nullable === \"itemsAndList\" || typeOptions.nullable === undefined && nullableByDefault === true;\n    gqlType = wrapTypeInNestedList(gqlType, typeOptions.arrayDepth, isNullableArray);\n  }\n  if (typeOptions.nullable === false || typeOptions.nullable === undefined && nullableByDefault === false || typeOptions.nullable === \"items\") {\n    gqlType = new graphql_1.GraphQLNonNull(gqlType);\n  }\n  return gqlType;\n}\nexports.wrapWithTypeOptions = wrapWithTypeOptions;\nconst simpleTypes = [String, Boolean, Number, Date, Array, Promise];\nfunction convertToType(Target, data) {\n  if (data == null) {\n    return data;\n  }\n  if (Target instanceof graphql_1.GraphQLScalarType) {\n    return data;\n  }\n  if (simpleTypes.includes(data.constructor)) {\n    return data;\n  }\n  if (data instanceof Target) {\n    return data;\n  }\n  if (Array.isArray(data)) {\n    return data.map(item => convertToType(Target, item));\n  }\n  return Object.assign(new Target(), data);\n}\nexports.convertToType = convertToType;\nfunction getEnumValuesMap(enumObject) {\n  const enumKeys = Object.keys(enumObject).filter(key => Number.isNaN(parseInt(key, 10)));\n  const enumMap = enumKeys.reduce((map, key) => {\n    map[key] = enumObject[key];\n    return map;\n  }, {});\n  return enumMap;\n}\nexports.getEnumValuesMap = getEnumValuesMap;","map":{"version":3,"names":["Object","defineProperty","exports","value","getEnumValuesMap","convertToType","wrapWithTypeOptions","convertTypeIfScalar","graphql_1","require","errors_1","scalars_1","build_context_1","wrapTypeInNestedList","targetType","depth","nullable","targetTypeNonNull","GraphQLNonNull","GraphQLList","type","GraphQLScalarType","scalarMap","BuildContext","scalarsMaps","find","it","scalar","String","GraphQLString","Boolean","GraphQLBoolean","Number","GraphQLFloat","Date","GraphQLISODateTime","undefined","target","propertyName","typeOptions","nullableByDefault","array","WrongNullableListOptionError","name","gqlType","isNullableArray","arrayDepth","simpleTypes","Array","Promise","Target","data","includes","constructor","isArray","map","item","assign","enumObject","enumKeys","keys","filter","key","isNaN","parseInt","enumMap","reduce"],"sources":["/Users/snawz1/node_modules/type-graphql/build/cjs/helpers/types.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEnumValuesMap = exports.convertToType = exports.wrapWithTypeOptions = exports.convertTypeIfScalar = void 0;\nconst graphql_1 = require(\"graphql\");\nconst errors_1 = require(\"../errors\");\nconst scalars_1 = require(\"../scalars\");\nconst build_context_1 = require(\"../schema/build-context\");\nfunction wrapTypeInNestedList(targetType, depth, nullable) {\n    const targetTypeNonNull = nullable ? targetType : new graphql_1.GraphQLNonNull(targetType);\n    if (depth === 0) {\n        return targetType;\n    }\n    return wrapTypeInNestedList(new graphql_1.GraphQLList(targetTypeNonNull), depth - 1, nullable);\n}\nfunction convertTypeIfScalar(type) {\n    if (type instanceof graphql_1.GraphQLScalarType) {\n        return type;\n    }\n    const scalarMap = build_context_1.BuildContext.scalarsMaps.find(it => it.type === type);\n    if (scalarMap) {\n        return scalarMap.scalar;\n    }\n    switch (type) {\n        case String:\n            return graphql_1.GraphQLString;\n        case Boolean:\n            return graphql_1.GraphQLBoolean;\n        case Number:\n            return graphql_1.GraphQLFloat;\n        case Date:\n            return scalars_1.GraphQLISODateTime;\n        default:\n            return undefined;\n    }\n}\nexports.convertTypeIfScalar = convertTypeIfScalar;\nfunction wrapWithTypeOptions(target, propertyName, type, typeOptions, nullableByDefault) {\n    if (!typeOptions.array &&\n        (typeOptions.nullable === \"items\" || typeOptions.nullable === \"itemsAndList\")) {\n        throw new errors_1.WrongNullableListOptionError(target.name, propertyName, typeOptions.nullable);\n    }\n    let gqlType = type;\n    if (typeOptions.array) {\n        const isNullableArray = typeOptions.nullable === \"items\" ||\n            typeOptions.nullable === \"itemsAndList\" ||\n            (typeOptions.nullable === undefined && nullableByDefault === true);\n        gqlType = wrapTypeInNestedList(gqlType, typeOptions.arrayDepth, isNullableArray);\n    }\n    if (typeOptions.nullable === false ||\n        (typeOptions.nullable === undefined && nullableByDefault === false) ||\n        typeOptions.nullable === \"items\") {\n        gqlType = new graphql_1.GraphQLNonNull(gqlType);\n    }\n    return gqlType;\n}\nexports.wrapWithTypeOptions = wrapWithTypeOptions;\nconst simpleTypes = [String, Boolean, Number, Date, Array, Promise];\nfunction convertToType(Target, data) {\n    if (data == null) {\n        return data;\n    }\n    if (Target instanceof graphql_1.GraphQLScalarType) {\n        return data;\n    }\n    if (simpleTypes.includes(data.constructor)) {\n        return data;\n    }\n    if (data instanceof Target) {\n        return data;\n    }\n    if (Array.isArray(data)) {\n        return data.map(item => convertToType(Target, item));\n    }\n    return Object.assign(new Target(), data);\n}\nexports.convertToType = convertToType;\nfunction getEnumValuesMap(enumObject) {\n    const enumKeys = Object.keys(enumObject).filter(key => Number.isNaN(parseInt(key, 10)));\n    const enumMap = enumKeys.reduce((map, key) => {\n        map[key] = enumObject[key];\n        return map;\n    }, {});\n    return enumMap;\n}\nexports.getEnumValuesMap = getEnumValuesMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}