{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Subscription = void 0;\nconst errors_1 = require(\"../errors\");\nconst decorators_1 = require(\"../helpers/decorators\");\nconst resolver_metadata_1 = require(\"../helpers/resolver-metadata\");\nconst getMetadataStorage_1 = require(\"../metadata/getMetadataStorage\");\nfunction Subscription(returnTypeFuncOrOptions, maybeOptions) {\n  const params = (0, decorators_1.getTypeDecoratorParams)(returnTypeFuncOrOptions, maybeOptions);\n  const options = params.options;\n  return (prototype, methodName) => {\n    const metadata = (0, resolver_metadata_1.getResolverMetadata)(prototype, methodName, params.returnTypeFunc, options);\n    if (Array.isArray(options.topics) && options.topics.length === 0) {\n      throw new errors_1.MissingSubscriptionTopicsError(metadata.target, metadata.methodName);\n    }\n    (0, getMetadataStorage_1.getMetadataStorage)().collectSubscriptionHandlerMetadata({\n      ...metadata,\n      topics: options.topics,\n      topicId: options.topicId,\n      filter: options.filter,\n      subscribe: options.subscribe\n    });\n  };\n}\nexports.Subscription = Subscription;","map":{"version":3,"names":["Object","defineProperty","exports","value","Subscription","errors_1","require","decorators_1","resolver_metadata_1","getMetadataStorage_1","returnTypeFuncOrOptions","maybeOptions","params","getTypeDecoratorParams","options","prototype","methodName","metadata","getResolverMetadata","returnTypeFunc","Array","isArray","topics","length","MissingSubscriptionTopicsError","target","getMetadataStorage","collectSubscriptionHandlerMetadata","topicId","filter","subscribe"],"sources":["/Users/snawz1/node_modules/type-graphql/build/cjs/decorators/Subscription.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Subscription = void 0;\nconst errors_1 = require(\"../errors\");\nconst decorators_1 = require(\"../helpers/decorators\");\nconst resolver_metadata_1 = require(\"../helpers/resolver-metadata\");\nconst getMetadataStorage_1 = require(\"../metadata/getMetadataStorage\");\nfunction Subscription(returnTypeFuncOrOptions, maybeOptions) {\n    const params = (0, decorators_1.getTypeDecoratorParams)(returnTypeFuncOrOptions, maybeOptions);\n    const options = params.options;\n    return (prototype, methodName) => {\n        const metadata = (0, resolver_metadata_1.getResolverMetadata)(prototype, methodName, params.returnTypeFunc, options);\n        if (Array.isArray(options.topics) && options.topics.length === 0) {\n            throw new errors_1.MissingSubscriptionTopicsError(metadata.target, metadata.methodName);\n        }\n        (0, getMetadataStorage_1.getMetadataStorage)().collectSubscriptionHandlerMetadata({\n            ...metadata,\n            topics: options.topics,\n            topicId: options.topicId,\n            filter: options.filter,\n            subscribe: options.subscribe,\n        });\n    };\n}\nexports.Subscription = Subscription;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAG,KAAK,CAAC;AAC7B,MAAMC,QAAQ,GAAGC,OAAO,CAAC,WAAW,CAAC;AACrC,MAAMC,YAAY,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AACrD,MAAME,mBAAmB,GAAGF,OAAO,CAAC,8BAA8B,CAAC;AACnE,MAAMG,oBAAoB,GAAGH,OAAO,CAAC,gCAAgC,CAAC;AACtE,SAASF,YAAYA,CAACM,uBAAuB,EAAEC,YAAY,EAAE;EACzD,MAAMC,MAAM,GAAG,CAAC,CAAC,EAAEL,YAAY,CAACM,sBAAsB,EAAEH,uBAAuB,EAAEC,YAAY,CAAC;EAC9F,MAAMG,OAAO,GAAGF,MAAM,CAACE,OAAO;EAC9B,OAAO,CAACC,SAAS,EAAEC,UAAU,KAAK;IAC9B,MAAMC,QAAQ,GAAG,CAAC,CAAC,EAAET,mBAAmB,CAACU,mBAAmB,EAAEH,SAAS,EAAEC,UAAU,EAAEJ,MAAM,CAACO,cAAc,EAAEL,OAAO,CAAC;IACpH,IAAIM,KAAK,CAACC,OAAO,CAACP,OAAO,CAACQ,MAAM,CAAC,IAAIR,OAAO,CAACQ,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE;MAC9D,MAAM,IAAIlB,QAAQ,CAACmB,8BAA8B,CAACP,QAAQ,CAACQ,MAAM,EAAER,QAAQ,CAACD,UAAU,CAAC;IAC3F;IACA,CAAC,CAAC,EAAEP,oBAAoB,CAACiB,kBAAkB,EAAE,CAAC,CAACC,kCAAkC,CAAC;MAC9E,GAAGV,QAAQ;MACXK,MAAM,EAAER,OAAO,CAACQ,MAAM;MACtBM,OAAO,EAAEd,OAAO,CAACc,OAAO;MACxBC,MAAM,EAAEf,OAAO,CAACe,MAAM;MACtBC,SAAS,EAAEhB,OAAO,CAACgB;IACvB,CAAC,CAAC;EACN,CAAC;AACL;AACA5B,OAAO,CAACE,YAAY,GAAGA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}