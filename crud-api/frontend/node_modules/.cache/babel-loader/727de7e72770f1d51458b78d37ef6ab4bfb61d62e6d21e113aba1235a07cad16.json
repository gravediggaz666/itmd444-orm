{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IOCContainer = void 0;\nclass DefaultContainer {\n  constructor() {\n    this.instances = [];\n  }\n  get(someClass) {\n    let instance = this.instances.find(it => it.type === someClass);\n    if (!instance) {\n      instance = {\n        type: someClass,\n        object: new someClass()\n      };\n      this.instances.push(instance);\n    }\n    return instance.object;\n  }\n}\nclass IOCContainer {\n  constructor(iocContainerOrContainerGetter) {\n    this.defaultContainer = new DefaultContainer();\n    if (iocContainerOrContainerGetter && \"get\" in iocContainerOrContainerGetter && typeof iocContainerOrContainerGetter.get === \"function\") {\n      this.container = iocContainerOrContainerGetter;\n    } else if (typeof iocContainerOrContainerGetter === \"function\") {\n      this.containerGetter = iocContainerOrContainerGetter;\n    }\n  }\n  getInstance(someClass, resolverData) {\n    const container = this.containerGetter ? this.containerGetter(resolverData) : this.container;\n    if (!container) {\n      return this.defaultContainer.get(someClass);\n    }\n    return container.get(someClass, resolverData);\n  }\n}\nexports.IOCContainer = IOCContainer;","map":{"version":3,"names":["Object","defineProperty","exports","value","IOCContainer","DefaultContainer","constructor","instances","get","someClass","instance","find","it","type","object","push","iocContainerOrContainerGetter","defaultContainer","container","containerGetter","getInstance","resolverData"],"sources":["/Users/snawz1/node_modules/type-graphql/build/cjs/utils/container.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IOCContainer = void 0;\nclass DefaultContainer {\n    constructor() {\n        this.instances = [];\n    }\n    get(someClass) {\n        let instance = this.instances.find(it => it.type === someClass);\n        if (!instance) {\n            instance = { type: someClass, object: new someClass() };\n            this.instances.push(instance);\n        }\n        return instance.object;\n    }\n}\nclass IOCContainer {\n    constructor(iocContainerOrContainerGetter) {\n        this.defaultContainer = new DefaultContainer();\n        if (iocContainerOrContainerGetter &&\n            \"get\" in iocContainerOrContainerGetter &&\n            typeof iocContainerOrContainerGetter.get === \"function\") {\n            this.container = iocContainerOrContainerGetter;\n        }\n        else if (typeof iocContainerOrContainerGetter === \"function\") {\n            this.containerGetter = iocContainerOrContainerGetter;\n        }\n    }\n    getInstance(someClass, resolverData) {\n        const container = this.containerGetter ? this.containerGetter(resolverData) : this.container;\n        if (!container) {\n            return this.defaultContainer.get(someClass);\n        }\n        return container.get(someClass, resolverData);\n    }\n}\nexports.IOCContainer = IOCContainer;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAG,KAAK,CAAC;AAC7B,MAAMC,gBAAgB,CAAC;EACnBC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,SAAS,GAAG,EAAE;EACvB;EACAC,GAAGA,CAACC,SAAS,EAAE;IACX,IAAIC,QAAQ,GAAG,IAAI,CAACH,SAAS,CAACI,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACC,IAAI,KAAKJ,SAAS,CAAC;IAC/D,IAAI,CAACC,QAAQ,EAAE;MACXA,QAAQ,GAAG;QAAEG,IAAI,EAAEJ,SAAS;QAAEK,MAAM,EAAE,IAAIL,SAAS,CAAC;MAAE,CAAC;MACvD,IAAI,CAACF,SAAS,CAACQ,IAAI,CAACL,QAAQ,CAAC;IACjC;IACA,OAAOA,QAAQ,CAACI,MAAM;EAC1B;AACJ;AACA,MAAMV,YAAY,CAAC;EACfE,WAAWA,CAACU,6BAA6B,EAAE;IACvC,IAAI,CAACC,gBAAgB,GAAG,IAAIZ,gBAAgB,CAAC,CAAC;IAC9C,IAAIW,6BAA6B,IAC7B,KAAK,IAAIA,6BAA6B,IACtC,OAAOA,6BAA6B,CAACR,GAAG,KAAK,UAAU,EAAE;MACzD,IAAI,CAACU,SAAS,GAAGF,6BAA6B;IAClD,CAAC,MACI,IAAI,OAAOA,6BAA6B,KAAK,UAAU,EAAE;MAC1D,IAAI,CAACG,eAAe,GAAGH,6BAA6B;IACxD;EACJ;EACAI,WAAWA,CAACX,SAAS,EAAEY,YAAY,EAAE;IACjC,MAAMH,SAAS,GAAG,IAAI,CAACC,eAAe,GAAG,IAAI,CAACA,eAAe,CAACE,YAAY,CAAC,GAAG,IAAI,CAACH,SAAS;IAC5F,IAAI,CAACA,SAAS,EAAE;MACZ,OAAO,IAAI,CAACD,gBAAgB,CAACT,GAAG,CAACC,SAAS,CAAC;IAC/C;IACA,OAAOS,SAAS,CAACV,GAAG,CAACC,SAAS,EAAEY,YAAY,CAAC;EACjD;AACJ;AACAnB,OAAO,CAACE,YAAY,GAAGA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}